<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LAB: ‡∏à‡∏≥‡∏•‡∏≠‡∏á Gambling API (Slot) ‚Äî ‡∏ù‡∏∂‡∏Å JavaScript / fetch</title>
  <link rel="stylesheet" href="lab.css">
  <style>
    body{font-family:'Sarabun', Arial, sans-serif;margin:0;background:#0a0a0a;color:#e0e0e0;min-height:100vh}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    h1{color:#00ff88;text-align:center;margin-bottom:10px;font-size:1.8rem}
    .hint{color:#8ea4ca;font-size:14px;text-align:center;margin-bottom:20px}
    #panel{display:flex;gap:20px}
    #ui{flex:0 0 420px;background:rgba(20,20,30,0.9);border:1px solid #00ff88;padding:16px;border-radius:12px}
    #log{flex:1;min-height:300px;background:rgba(10,10,10,0.9);border:1px solid #333;padding:16px;border-radius:12px;overflow:auto}
    .reels{display:flex;gap:12px;font-size:32px;margin:16px 0;justify-content:center;background:#000;padding:20px;border-radius:8px;border:2px solid #00ff88}
    button{background:linear-gradient(45deg,#00ff88,#00cc6a);color:#000;border:none;padding:12px 16px;border-radius:8px;font-weight:700;cursor:pointer;transition:all 0.3s ease}
    button:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(0,255,136,0.3)}
    button:disabled{opacity:0.5;cursor:not-allowed;transform:none}
    .success{color:#00ff88}
    .error{color:#ff6b6b}
    input,select,textarea{background:#1a1a2e;border:1px solid #333;color:#e0e0e0;padding:8px;border-radius:6px}
    label{color:#00ff88;font-weight:600}
    
    /* Enhanced mobile-friendly adjustments */
    @media (max-width:768px){
      body{margin:0}
      .container{padding:15px}
      h1{font-size:1.5rem}
      #panel{flex-direction:column;gap:15px}
      #ui{flex:1 1 auto;order:1}
      #log{order:2;margin-top:0;min-height:250px}
      .reels{font-size:48px;padding:25px}
      button{padding:16px 20px;font-size:18px;min-height:48px}
      #spinBtn{width:100%;font-weight:700;font-size:20px;padding:18px}
      #mainSplit{flex-direction:column}
      #devtools{width:100%;margin-top:15px}
      .devRow{flex-direction:column;gap:10px}
      .devTextArea{min-height:80px}
      input,select{font-size:16px;padding:12px}
    }
    
    @media (max-width:480px){
      .container{padding:10px}
      .reels{font-size:40px;padding:20px;gap:8px}
      #betControls{flex-direction:column;gap:10px;align-items:stretch}
      #betInput{text-align:center;font-size:18px}
    }

    /* small visual overlay hint for touch devices */
    #mobileOverlay{display:none;position:fixed;left:8px;right:8px;bottom:14px;padding:10px;background:rgba(0,0,0,0.7);color:#fff;border-radius:8px;text-align:center;font-size:15px}
    body.mobile #mobileOverlay{display:block}
  /* Bet controls */
  #betControls{margin-top:10px;display:flex;align-items:center;gap:8px}
  #betControls .bet-label{font-weight:600}
  #betInput{width:84px;padding:6px;text-align:center}
  .history-controls{display:flex;gap:8px;align-items:center;margin-bottom:8px}
  #historyList{max-height:200px;overflow:auto;background:#fff;border:1px solid #eee;padding:8px}
  /* DevTools simulator styles */
  #mainSplit{display:flex;gap:12px;align-items:flex-start}
  #appArea{flex:1}
  #appOverlay{display:block;margin-top:10px;background:#fff3cd;border:1px solid #ffeeba;padding:10px;border-radius:6px}
  #devtools{width:420px;border:1px solid #ddd;padding:12px;border-radius:6px;background:#111;color:#eee}
  .devtools h3{margin-top:0}
  .devtools .row{margin-top:8px}
  #interceptList{max-height:160px;overflow:auto;margin-top:6px;background:#0e0e0e;padding:6px;border-radius:4px}
  .devTextArea{width:100%;background:#0b0b0b;color:#fff;border:1px solid #222;padding:6px}
  .devRow{display:flex;gap:8px;margin-top:8px}
  .forgeInput{width:100%}
  .scriptArea{display:flex;flex-direction:column}
  .scriptBtns{display:flex;gap:8px}
  .scriptConsole{background:#000;color:#0f0;padding:8px;margin-top:8px;max-height:160px;overflow:auto}
  </style>
</head>
<body>
  <div class="container">
    <h1>üé∞ LAB: ‡∏à‡∏≥‡∏•‡∏≠‡∏á Gambling API</h1>
    <p class="hint">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå: ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏Å‡∏≤‡∏£‡∏¢‡∏¥‡∏á API, ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö request/response, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç payload/headers, ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ error ‡∏î‡πâ‡∏ß‡∏¢ JavaScript</p>

  <div id="mainSplit">
    <div id="appArea">
      <div id="panel">
        <div id="ui">
      <div>
        <label>‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô: <input id="username" value="player1"></label>
        <button id="loginBtn">Login (simulate)</button>
      </div>
      <hr>
      <div>‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô: <strong id="balance">-</strong> <button id="refreshBal">Refresh</button></div>

      <div id="betControls">
        <label class="bet-label" for="betInput">Bet:</label>
        <button id="betMinus" aria-label="‡∏•‡∏î bet">-</button>
        <input id="betInput" type="number" value="10" min="1" max="1000" />
        <button id="betPlus" aria-label="‡πÄ‡∏û‡∏¥‡πà‡∏° bet">+</button>
  <span class="hint">Min 1 - Max 1000</span>
      </div>

      <div class="reels" id="reels">-- -- --</div>
      <button id="spinBtn">Spin</button>
      <div id="spinResult" class="hint"></div>

      <hr>
      <div>
        <h3>Tasks / ‡πÅ‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î</h3>
        <ol>
          <li>‡πÉ‡∏ä‡πâ Developer Console ‡∏î‡∏π request/response ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° Spin</li>
          <li>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô <code>gambling-lab.js</code> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô headers ‡∏´‡∏£‡∏∑‡∏≠ payload ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ú‡∏•</li>
          <li>‡πÄ‡∏û‡∏¥‡πà‡∏° retry/timeout ‡πÄ‡∏°‡∏∑‡πà‡∏≠ API ‡∏ï‡∏≠‡∏ö‡∏ä‡πâ‡∏≤</li>
          <li>‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÅ‡∏Å‡πâ service worker ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ä‡∏ô‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏™‡∏î‡∏á error rate-limit (‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</li>
        </ol>
      </div>
        </div>

      </div>
  <div id="appOverlay" class="hint">‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏≠‡∏õ‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡πÑ‡∏ß‡πâ (disabled) ‚Äî ‡πÄ‡∏õ‡∏¥‡∏î DevTools Simulator ‡∏ó‡∏≤‡∏á‡∏Ç‡∏ß‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡∏Ñ‡∏≥‡∏Ç‡∏≠</div>
    </div>

    <div id="devtools" class="devtools">
      <h3>DevTools Simulator</h3>
      <label class="devRow"><input type="checkbox" id="toggleIntercept"> Intercept outgoing requests</label>
      <div class="row">
        <strong>Pending / Intercepted</strong>
        <div id="interceptList"></div>
      </div>
      <hr>
      <div>
        <strong>Edit request</strong>
        <div class="row">
          <div><label for="editHeaders">Headers (JSON)</label><textarea id="editHeaders" rows="4" class="devTextArea" title="Headers JSON" placeholder='{"x-api-key":"<DEMO_KEY>"}'></textarea></div>
          <div><label for="editBody">Body (JSON)</label><textarea id="editBody" rows="4" class="devTextArea" title="Body JSON" placeholder='{"username":"player1","bet":10}'></textarea></div>
        </div>
        <div class="devRow"><button id="sendModified">Send modified</button><button id="replayRequest">Replay selected</button><button id="unlockApp">Unlock app</button></div>
      </div>
      <hr>
      <div>
        <strong>Forge / Craft request</strong>
        <div class="row">
          <div><label for="forgePath">Path</label><input id="forgePath" value="/api/spin" class="forgeInput" title="Path to send" placeholder="/api/spin"></div>
          <div><label for="forgeMethod">Method</label><select id="forgeMethod" title="HTTP Method"><option>POST</option><option>GET</option></select></div>
        </div>
        <div class="row"><div><label for="forgeBody">Body (JSON)</label><textarea id="forgeBody" rows="3" class="devTextArea" title="Body JSON">{"username":"player1","bet":10}</textarea></div></div>
        <div class="row"><button id="forgeSend">Send forged request</button></div>

      <hr>
      <div>
        <strong>Scripts Library</strong>
        <div class="row scriptArea">
          <select id="scriptSelect" class="forgeInput" title="Choose sample script">
            <option value="autoSpin">AutoSpin demo (5 spins)</option>
            <option value="showHeaders">Show current API headers</option>
            <option value="interceptModify">Intercept next request and modify header</option>
          </select>
          <div class="scriptBtns"><button id="runScript">Run script</button><button id="showScript">Show code</button></div>
          <pre id="scriptConsole" class="scriptConsole">Simulated console...</pre>
        </div>
      </div>
      </div>
    </div>

    <div id="log">
      <h3>Request / Response Log</h3>
      <div id="rawLog"></div>
      <hr>
      <h4>Transaction History</h4>
      <div class="history-controls">
        <button id="downloadCsv">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV</button>
        <button id="clearHistory">‡∏•‡πâ‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
        <span class="hint">(‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏∏‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà)</span>
      </div>
      <div id="historyList"></div>
    </div>
  </div>

    <hr style="border-color:#333;margin:20px 0">
    <p class="hint">‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á: <code>sw-gamble.js</code>, <code>gambling-lab.js</code>, README ‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå</p>
    
    <div style="text-align:center;margin-top:20px">
      <button onclick="window.location.href='index.html'" style="background:#333;color:#00ff88;border:1px solid #00ff88">
        ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å Labs
      </button>
    </div>
  </div>

  <script src="lab-nav.js"></script>
  <script src="gambling-lab.js"></script>
  <div id="mobileOverlay">‡πÅ‡∏ï‡∏∞ "Spin" ‡∏°‡∏∏‡∏°‡∏•‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡∏õ‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏°‡∏∏‡∏ô (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)</div>
</body>
</html>
